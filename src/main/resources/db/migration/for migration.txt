 
    create table cart (
        total_price float(53) not null,
        user_id bigint not null,
        primary key (user_id)
    )
 
    create table cart_item (
        id bigint generated by default as identity,
        price float(53) not null,
        quantity integer not null,
        cart_id bigint,
        product_id bigint,
        primary key (id)
    )
 
    create table category (
        id bigint generated by default as identity,
        image_url varchar(255),
        name varchar(255) not null,
        primary key (id)
    )
 
    create table order_item (
        id bigint generated by default as identity,
        price float(53) not null,
        quantity integer not null,
        order_id bigint not null,
        product_id bigint not null,
        primary key (id)
    )
 
    create table orders (
        id bigint generated by default as identity,
        order_date timestamp(6) not null,
        total_price float(53) not null,
        user_id bigint not null,
        primary key (id)
    )
 
    create table orders_items (
        order_id bigint not null,
        items_id bigint not null
    )
 
    create table product (
        id bigint generated by default as identity,
        created_at timestamp(6),
        description varchar(255),
        image_url varchar(255),
        name varchar(255) not null,
        price float(53) not null,
        category_id bigint,
        primary key (id)
    )
 
    create table users (
        id bigint generated by default as identity,
        created_at timestamp(6),
        email varchar(255) not null,
        password varchar(255) not null,
        role varchar(255) not null check (role in ('USER','ADMIN')),
        username varchar(255),
        primary key (id)
    )
 
    alter table if exists orders_items
       drop constraint if exists UK7qrg5pfgjon82yhgwfqrdijm5
 
    alter table if exists orders_items
       add constraint UK7qrg5pfgjon82yhgwfqrdijm5 unique (items_id)
 
    alter table if exists cart
       add constraint FKg5uhi8vpsuy0lgloxk2h4w5o6
       foreign key (user_id)
       references users
 
    alter table if exists cart_item
       add constraint FK1uobyhgl1wvgt1jpccia8xxs3
       foreign key (cart_id)
       references cart
 
    alter table if exists cart_item
       add constraint FKjcyd5wv4igqnw413rgxbfu4nv
       foreign key (product_id)
       references product
 
    alter table if exists order_item
       add constraint FKt4dc2r9nbvbujrljv3e23iibt
       foreign key (order_id)
       references orders
 
    alter table if exists order_item
       add constraint FK551losx9j75ss5d6bfsqvijna
       foreign key (product_id)
       references product
 
    alter table if exists orders
       add constraint FK32ql8ubntj5uh44ph9659tiih
       foreign key (user_id)
       references users
 
    alter table if exists orders_items
       add constraint FKe64jvabyr77d5fmc7rif7g35m
       foreign key (items_id)
       references cart_item
 
    alter table if exists orders_items
       add constraint FKij1wwgx6o198ubsx1oulpopem
       foreign key (order_id)
       references orders
 
    alter table if exists product
       add constraint FK1mtsbur82frn64de7balymq9s
       foreign key (category_id)
       references category






       INSERT INTO public.category (image_url, name)
       VALUES (null, 'Оперативна пам''ять');

       INSERT INTO public.category (image_url, name)
       VALUES (null, 'Блоки живлення');

       INSERT INTO public.category (image_url, name)
       VALUES (null, 'Корпуси');

       INSERT INTO public.category (image_url, name)
       VALUES (null, 'Системи охолодження');

       INSERT INTO public.category (image_url, name)
       VALUES (null, 'Відеокарти');

       INSERT INTO public.category (image_url, name)
       VALUES ('https://s.ek.ua/jpg/jpg_katalog/preview_big/61.jpg', 'SSD-накопичувачі');

       INSERT INTO public.category (image_url, name)
       VALUES (null, 'Жорсткі диски');

       INSERT INTO public.category (image_url, name)
       VALUES (null, 'Термопасти та термопрокладки');

INSERT INTO product (created_at, description, image_url, name, price, category_id, updated_at) VALUES ('2024-10-30 18:36:12.000000', 'Компактна материнська плата від ASRock із сокетом AM5, заточена під ігрові збірки на базі процесорів Ryzen нового покоління (серія 7000 і вище), реактивних M.2 накопичувачів та оперативної пам''яті DDR5, яка ринула на масовий ринок лише у 2022 році.', 'https://www.asrock.com/mb/photo/B650M-HDVM.2(M1).png', 'ASRock B650M-HDV/M.2', 5000, 1, null);
INSERT INTO product (created_at, description, image_url, name, price, category_id, updated_at) VALUES ('2024-10-23 23:57:58.976374', 'Недорогий Mini Tower з трьома встановленими вентиляторами та підтримкою систем для рідинного охолодження, створений для економних геймерів, які не планують переплачувати за кейси такого формату від іменитих виробників.', 'https://images.prom.ua/5809140082_w600_h600_5809140082.jpg', '1stPlayer X2-M-3B1', 1500, 5, null);
INSERT INTO product (created_at, description, image_url, name, price, category_id, updated_at) VALUES ('2024-10-23 16:12:33.681518', 'Порівняно недорого комп''ютерний корпус формату Mini Tower із геймерської серії MAG від популярного виробника MSI.', 'https://content2.rozetka.com.ua/goods/images/big/338771196.jpg', 'MSI MAG FORGE M100R', 2000, 5, null);
INSERT INTO product (created_at, description, image_url, name, price, category_id, updated_at) VALUES ('2024-10-23 16:13:50.214331', 'AMD Ryzen 9 7950X3D – це високопродуктивний процесор, розроблений для найвибагливіших завдань та максимально ефективної роботи у багатозадачному середовищі. ', 'https://content2.rozetka.com.ua/goods/images/big/458490381.jpg', 'AMD Ryzen 9 Raphael 7950X3D', 20000, 2, null);
INSERT INTO product (created_at, description, image_url, name, price, category_id, updated_at) VALUES ('2024-10-30 18:32:10.000000', 'Лінійка флагманських 24-ядерних процесорів із безпрецедентним для масового ринку рівнем продуктивності, підтримкою PCI-E 5.0, DDR5 та Thermal Velocity Boost.', 'https://defis.ua/image/cache/catalog/2/23/23411_1-xW.jpg', 'Intel Core i9 Raptor Lake Refresh', 18000, 2, null);
INSERT INTO product (created_at, description, image_url, name, price, category_id, updated_at) VALUES ('2024-10-30 18:34:03.000000', 'MSI B650M GAMING PLUS WIFI – це доступна та функціональна материнська плата, призначена для геймерів та ентузіастів, які шукають недорогий вхідний квиток для складання ПК на платформі AMD AM5.', 'https://content.rozetka.com.ua/goods/images/big/421857613.jpg', 'MSI B650M GAMING PLUS WIFI', 7000, 1, null);
INSERT INTO product (created_at, description, image_url, name, price, category_id, updated_at) VALUES ('2024-10-30 18:39:24.000000', 'Великогабаритна та високопродуктивна флагманська відеокарта 2024 року з 24 ГБ відеопам''яті GDDR6X та підтримкою системи суперсемплінгу DLSS 3.0 з підтримкою системи генерації кадрів на основі нейромереж. ', 'https://asset.msi.com/resize/image/global/product/product_16655531780ae76e91e577ad9719f1f135824e1a15.png62405b38c58fe0f07fcef2367d8a9ba1/1024.png', 'MSI GeForce RTX 4090 GAMING X TRIO 24G', 90000, 7, null);
INSERT INTO product (created_at, description, image_url, name, price, category_id, updated_at) VALUES ('2024-10-30 18:40:14.000000', 'Модель Asus GeForce RTX 4080 SUPER ProArt OC є відеокартою від Asus, заснованою на графічному процесорі AD103 від NVIDIA, призначену для професійної роботи з візуальним контентом.', 'https://content2.rozetka.com.ua/goods/images/big/397983095.jpg', 'Asus GeForce RTX 4080 SUPER ProArt OC', 45000, 7, null);
INSERT INTO product (created_at, description, image_url, name, price, category_id, updated_at) VALUES ('2024-10-30 18:47:21.000000', e'Революційний SSD накопичувач
Поверхня продуктивність оновленого накопичувача. Швидший у порівнянні з накопичувачем попередньої серії 970 EVO, накопичувач 970 EVO Plus використовує новітню технологію V-NAND та оптимізовану прошивку.', 'https://brain.com.ua/static/images/prod_img/3/3/U0339533_3big.jpg', 'Samsung 970 EVO Plus M.2 MZ-V7S1T0BW', 3500, 8, null);
INSERT INTO product (created_at, description, image_url, name, price, category_id, updated_at) VALUES ('2024-10-30 18:48:21.000000', 'Продуктивний твердотільний накопичувач формату M.2, орієнтований масового споживача. Входить до оновленої лінійки високошвидкісних накопичувачів WD Black на базі оновленої платформи Innogrit IG5220.', 'https://content1.rozetka.com.ua/goods/images/big/379724593.jpg', 'WD Black SN770 WDS100T3X0E', 2700, 8, null);

INSERT INTO category (image_url, name, created_at, updated_at) VALUES ('https://s.ek.ua/jpg/jpg_katalog_ua/61.jpg', 'SSD-накопичувачі', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO category (image_url, name, created_at, updated_at) VALUES ('https://s.ek.ua/jpg/jpg_katalog_ua/186.jpg', 'Процесори', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO category (image_url, name, created_at, updated_at) VALUES ('https://s.ek.ua/jpg/jpg_katalog_ua/193.jpg', 'Корпуси', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO category (image_url, name, created_at, updated_at) VALUES ('https://s.ek.ua/jpg/jpg_katalog_ua/247.jpg', 'Термопасти та термопрокладки', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO category (image_url, name, created_at, updated_at) VALUES ('https://s.ek.ua/jpg/jpg_katalog_ua/190.jpg', 'Жорсткі диски', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO category (image_url, name, created_at, updated_at) VALUES ('https://s.ek.ua/jpg/jpg_katalog_ua/188.jpg', 'Оперативна пам''ять', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO category (image_url, name, created_at, updated_at) VALUES ('https://s.ek.ua/jpg/jpg_katalog_ua/187.jpg', 'Материнські плати', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO category (image_url, name, created_at, updated_at) VALUES ('https://s.ek.ua/jpg/jpg_katalog_ua/303.jpg', 'Системи охолодження', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO category (image_url, name, created_at, updated_at) VALUES ('https://s.ek.ua/jpg/jpg_katalog_ua/351.jpg', 'Блоки живлення', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
INSERT INTO category (image_url, name, created_at, updated_at) VALUES ('https://s.ek.ua/jpg/jpg_katalog_ua/189.jpg', 'Відеокарти', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

