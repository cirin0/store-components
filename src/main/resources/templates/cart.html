<!DOCTYPE html>
<html lang="ua" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head}"></head>
<body>
<div th:replace="~{fragments/header :: header}"></div>
<main class="container mt-4">
	<h2>Shopping Cart</h2>
	<div class="table-responsive">
		<table class="table">
			<thead>
			<tr>
				<th>Product</th>
				<th>Price</th>
				<th>Quantity</th>
				<th>Total</th>
				<th>Action</th>
			</tr>
			</thead>
			<tbody>
			<tr th:each="item : ${cart.items}">
				<td th:text="${item.product.name}">Product Name</td>
				<td th:text="${item.product.price}">Price</td>
				<td th:text="${item.quantity}">Quantity</td>
				<td th:text="${item.product.price * item.quantity}">Total</td>
				<td>
					<form
							th:action="@{/api/cart/{userId}/products/{productId}(userId=${#authentication.principal.id},productId=${item.product.id})}"
							method="post"
							th:method="delete">
						<button type="submit" class="btn btn-danger btn-sm">Remove</button>
					</form>
				</td>
			</tr>
			</tbody>
		</table>
	</div>
	<div class="text-end">
		<a href="/" class="btn btn-primary">Continue Shopping</a>
	</div>
</main>
<div th:replace="~{fragments/footer :: footer}"></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
				integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
				crossorigin="anonymous"></script>
<script th:src="@{/js/script.js}"></script>
</body>
</html>